---
code: 509
internalName: NestedTernaryViolation
relatedTo: []
title: Found incorrectly nested ternary
---

{% import "macros.html" as macros with context %}

Forbid nesting ternary expressions in certain places.

Note, that we restrict to nest ternary expressions inside:

  - `if` conditions
  - boolean and binary operations like `and` or `+`
  - unary operators

Reasoning: Nesting ternary in random places can lead to very hard debug
and testing problems.

Solution: Refactor the ternary expression to be either a new variable,
or nested `if` statement, or a new function.

Example::

    # Correct:
    some = x if cond() else y
    
    # Wrong:
    if x if cond() else y:
        ...

.. versionadded:: 0.10.0 .. versionchanged:: 0.11.0